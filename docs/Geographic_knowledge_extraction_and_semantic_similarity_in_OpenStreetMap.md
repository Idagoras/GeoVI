# Geographic knowledge extraction and semantic similarity in OpenStreetMap

## Introduction

近十年来，数字地理信息经历了巨大的扩张，覆盖了数百万互联网用户，远远超出了地理学家、制图师和城市规划者传统上的看门人的有限范围。人们从几个角度研究了人们对地理信息更广泛的兴趣和参与的快速增长：众包数据收集或自愿地理信息（VGI）、无处不在的制图、网络地图和维基化都是特纳命名的这种复杂现象的各个方面。新地理学[59]。在新地理学的多变星座中，OpenStreetMap (OSM) 已成为最雄心勃勃、在某些方面最成功的在线协作项目 [21]。通过适用于空间数据的 Wiki 模型，其众多用户创建、编辑和利用覆盖整个地球的矢量图。尽管项目名称暗示了对路线的重视，但该地图包括自然实体和人造特征，从国家边界到乡村城镇的邮政信箱。鉴于范围极其广泛，很明显，OSM 矢量数据的一致性和质量的关键方面之一在于其相关的语义结构。在 OSM 矢量数据集中，地图对象与编码其语义内容的属性相关联，以键/值对的形式构建（例如 amenity=university，name='University College Dublin'）。在 OSM 中，对象的属性称为“标签”。1 这些标签的含义和用法是在 OSM Wiki 网站上的贡献者社区内协商的。 2 标签的含义可能会随着时间的推移而发生变化，在语义涌现的过程中，概念在复杂的进化协商中出现、转变和消失 。

OSM 地理概念之间语义相似性的有效测量可以促进 OSM 数据在众多应用中的使用，例如地理信息检索、空间推荐系统、数据挖掘、基于位置的服务和地理信息集成。例如，给定在地图、喷泉、学校和书店中常见的三类实体，语义相似性度量预计会发现学校和书店之间的关联性比这两个概念和喷泉之间的关联性更强。然而，仅考虑当前的 OSM 标签结构，无法捕获这种区别，因为所有这三个概念都是同一父概念（便利性）下的兄弟姐妹。一些项目解决了 OSM 中语义支持的需求。 LinkedGeoData 将 OSM 地图重新发布为语义 Web 数据集，其结构基于表示标签的浅树 [5]，而 OSMonto 3 由 OSM 标签子集的正式描述组成。这些项目都没有利用 OSM Wiki 网站作为语义知识的来源。

事实上，OSM Wiki 网站包含描述地理概念的密集连接的页面图。虽然语义信息隐式地存在于 Wiki 链接结构中，但必须将其明确化才能利用它并改进语义相似度的计算在此框架中，共引算法 [29,54] 似乎有希望计算语义网络中的语义相似性，但由于其他措施而被忽视，特别是在地理空间领域 [52]。 据我们所知，尚未发表对其认知合理性的深入研究。为了解决这些问题，我们对 VGI 语义和语义相似性领域的贡献包括两部分：

+ OSM 语义网络的开发，通过专用的开源网络爬虫进行。该网络捕获地理概念之间的语义关系，这些概念隐含在 OSM Wiki 网站中。在其他应用中，它允许测量概念之间的语义相似性。因此，它代表了地理信息检索、推荐系统和数据挖掘的有用支持工具。
+ 一项关于计算地理空间类别语义相似性的共引算法的认知合理性（即模仿人类行为的能力）的研究。虽然这种方法原则上可以应用于任何网络，但我们的实验是在 OSM 语义网络上进行的。

## Related work

我们的研究定位于 VGI、OSM 和现有语义相似性方法的交叉点，特别是在 GIS 科学领域。本节概述了这些领域，并重点介绍了相关工作。

### 志愿地理信息 (VGI)

在过去的十年中，Web 2.0 的快速扩张导致了多种众包现象，例如大众分类法、维基模型、社会标签、社会书签和协作分类。数字地理信息在数量和质量上也经历了前所未有的增长。 Goodchild 将地理信息众包称为自愿地理信息，特指由非专家用户通过自愿行为生产和发布的地理信息。 VGI 对地理信息的生产和消费产生了明显的影响，为传统的分层、集中式生产模型添加了协作维度。与此同时，地图绘制扩展到日益强大的移动计算设备导致了所谓的无处不在的制图技术。

在讨论这些趋势时，Sui 建议使用“维基化”一词来描述众包非文本数据的尝试，在空间域内模仿维基百科。 Priedhorsky 和 Terveen 提出了针对空间数据的 wiki 模型的改编。可用在线地理信息的增长提出了语义问题：除非其含义是可理解的，否则数据是无用的。语义贫乏的地理数据泛滥的威胁促使 Egenhofer  设想语义地理空间网的出现，这是语义网计划的空间扩展，它将实现高级信息检索。新地理学是特纳为了讨论这种现象的联系而创造的总称。总体而言，新地理学可以被定义为众包的、维基化的、互动的、基于网络的、志愿的和无处不在的。几个新地理在线项目聚集了广泛的用户和贡献者社区。这些项目的范围从非常具体的项目（Cyclopath 收集与自行车相关的地理知识）到非常通用的项目（Wikimapia 是一个商业项目，旨在构建一个在线可编辑地图，让用户“可以描述地球上的任何地方”） ，我们重点关注 OpenStreetMap，这是创建完全开放内容的矢量世界地图的唯一大规模尝试。

### OpenStreetMap (OSM)

可以说，领先的 VGI 计划 OSM 旨在创建一个开放的世界矢量地图 。与其他 VGI 项目不同，OSM 围绕构建代表整个地球的矢量数据集，而不仅仅是现有地图上的注释，并强调其数据集的开放性。 7 自 2004 年成立以来，OSM 一直以相当快的速度增长，引起了学术界和工业界的关注[46]。鉴于该项目对 Wiki 模型的依赖，最重要的问题之一是数据质量，目前这仍然是一个悬而未决的问题 。虽然 OSM 数据的几何质量存在争议，但在几何分类的类别的语义质量方面却几乎没有做任何工作。 OSM 几何形状通过标签进行描述，标签表明它们在数据集中的含义和功能角色。例如，大学校园由界定其边界的多边形组成，与标签 amenity=university 相关联（参见第 3 节）。为了增强 OSM 语义，出现了一系列类似且有时相互竞争的项目。 LinkedGeoData (LGD) 获取了整个 OSM 数据集，并以语义网友好的格式重新发布，将其链接到正式的本体。 尽管新格式有很多优点，但 LGD 本体是一个简单的浅树结构，表示键和值。其语义内容仅限于标签和各自值之间的 is_a 关系。 OSMonto  提供了另一种基于 OSM 标签的本体。其主要数据集由 OSM 标签子集的不完整正式描述组成。迄今为止，这些项目都尚未正式集成到 OSM 基础设施中，并且 OSM 语义在很大程度上尚未得到探索。此外，据我们所知，上述项目都没有为 OSM 地理概念提供语义相似性度量。

### 相似性度量

相似性是计算中普遍存在的概念。聚类、信息检索、模式识别、数据挖掘、图像分析和推荐系统严重依赖于文本文档、图像、向量、概念和其他数字对象之间的某种相似性度量。维特根斯坦评论说，单词的含义流经“一个由相似性重叠和纵横交错的复杂网络”，拒绝了概念可以被赋予清晰和确定的边界的观点。如今，毫无争议的是，这种“复杂的相似性网络”在人类认知和思维中占据着中心地位。在GIS科学领域，语义相似性度量可以实现不同来源的数据集成、本体对齐、数据挖掘和语义信息检索，即处理歧义和模糊查询。 Schwering  提出了语义相似性方法的分类。在她看来，特征模型将对象解释为非结构化特征集，并根据集合理论度量计算它们的相似性。匹配距离相似性模型（MDSM）扩展了 Tversky 开发的比率模型，考虑了地理概念的不同特征（部分、功能和属性）。此外，Janowicz 等人开发了SIM-DL，一种基于描述逻辑的特征模型。虽然 MDSM 和 SIM-DL 等方法测量地理类本体描述的相似性，但无法在实例级别评估语义相似性。穆里根等人。 [44]直接从 OSM 向量数据集中提取相似性度量，查看特征的空间共现性。然而，他们的研究范围仅限于兴趣点，并且没有评估该指标如何与人类判断相关。网络模型用于测量语义网络中的相似性。语义网络以图的形式编码知识和意义，图的顶点代表概念。此类模型已广泛应用于心理学和认知科学，例如研究人类语义记忆的工作原理。这些相似性方法基于节点之间某种形式的结构距离（例如边缘计数），有时添加额外的参数来权衡路径，或基于子图的拓扑比较。这种基于网络的技术通常依赖于定义明确、专家生成的语义网络，例如 WordNet 。然而，互联网上的许多现实世界数据集并不呈现这样的结构，而是以相互链接的对象图的形式编码有价值的信息，有时称为信息网络。鉴于此类网络在许多领域的传播，已经出现了专门根据网络中的链接模式识别类似对象的算法，而网络中没有显式编码概念的属性、部分和其他细节。

### Co-citation algorithms

1973年，Small发表了共被引算法。给定代表科学论文及其相互引用的有向图，共同引用通过一起引用的频率来衡量两篇给定论文之间的相似性。 Jeh 和 Widom 在 2002 年将共引扩展到迭代形式，创建了 SimRank，这是一种计算有向图中顶点相似度的结构方法。潜在的递归假设是“如果两个对象被相似的对象引用，则它们是相似的”。鉴于其通用性和有效性，SimRank 引起了人们的广泛研究兴趣 。

P-Rank 算法（渗透排名）概括了 SimRank，考虑了传出链接，指出“两个实体相似，如果 (1) 它们被相似的实体引用； (2) 它们引用相似的实体”。经典算法，例如原始的 Co-itation 、Coupling  和 Amsler 是 P-Rank 的具体案例。由于 GIScience 最近的调查没有涉及这些方法，社区似乎没有探索它们评估地理领域内语义相似性的潜力，而是倾向于其他模型 。

在计算语义相似性时，必须评估计算测量与人类思维的相关性（即认知合理性）。 MDSM  和 SIM-DL 已经研究了地理概念的语义相似性度量的认知合理性。据我们所知，应用于语义网络的共引算法的认知合理性尚未得到研究。

## OSM语义网络提取

本节描述了通过专门的网络爬虫开发新的语义网络，该网络爬虫是为 OSM Wiki 网站量身定制的。在 OpenStreetMap 矢量数据集中，地图对象被编码为节点（兴趣点或质心）、路径（线和多边形）和关系（对象组）。世界数据集目前包含 12 亿个节点、1.06 亿种方式和 100 万种关系。 每个地图对象都通过称为“标签”的属性进行描述，定义对象的语义内容（例如 amenity=university）。

OSM 标签在 OSM Wiki 网站上提出、定义、讨论，有时甚至被丢弃，该网站包含详细的定义和使用指南。 该网站用作文档参考并促进映射过程，该过程通过单独的、专用的 Web 服务和工具，这超出了本文的范围。根据 OSM Wiki 网站，标签应该刻意是非正式的、宽松的和开放的。鼓励制图人员使用众所周知的标签，但并不阻止他们在认为有用时创建新标签。这是一项比 Wikimapia 等类似项目更为激进的政策（见第 2 节）。

OSM 键可以表示地理实体组（例如水道、土地利用、自然）或使用不受限制的值对属性进行编码（例如名称、地址：街道）。虽然某些键具有一小组明确定义的值（例如连接），但其他键已变得非常大，过度延伸了它们的语义边界。例如，关键设施与 150 多个价值相关，从快餐店到医院和电影院。此外，相似的标签可以用不同的键来定义，这会给用户带来语义上的困难（例如土地使用=车库与设施=停车）。这种语义差距有时会引起用户之间的分歧，从而导致“标签大战”。

迄今为止，OSM 社区拥有约 453,000 名贡献者。通过 OSM Wiki 网站，这个大型团体协商了 Kuhn [32] 所谓的“社会协议”，以定义大多数用户可以理解的通用语义符号。 OSM 语义的流动开放性既是该项目的优点也是缺点。虽然贡献者被缺乏对地图进行更改的正式验证程序所吸引，但这种自由度会以语义模糊和冗余的形式产生噪音。为此，已采取多项措施来监控矢量数据集中的标签使用情况，例如 Web 服务 TagInfo 和 TagWatch 。

OSM Wiki 网站将语义内容编码为互连页面的集合，讨论 OSM 矢量数据集的各个方面。贡献者使用文本描述、图像和维基百科链接来阐明 OSM 标签的含义和用法。从这个意义上说，OSM Wiki 可以被视为一个语义网络，其中页面是概念，链接代表关系。在这样的网络中，概念与其他概念有联系。当页面被修改并重新连接到其他页面时，网络拓扑也会相应改变。在这个语义网络的开发中，我们专注于英文的关键和标签页面。 OSM Wiki 页面可分类如下

+ **Key page** 描述 OSM 密钥的含义和用法，将具有相同密钥的多个标签分组。例如，页面 osmwiki:Key:amenity 总结了关键设施及其推荐值（例如大学、酒吧）。
+ **Tag page** 描述一个特定的键/值对，代表语义网络中的一个概念。例如，osmwiki:Tag:amenity=library 定义标签 amenity=library 。
+ **Proposed tag page** 一些标签已由贡献者提出并正在接受审查。例如，标签 Historical=aqueduct 已在 osmwiki:- Profused_features/aqueduct 中提出，目前被标记为草案。
+ **Cluster pages** 将相关链接分组到标签页面的页面，但不直接代表标签（例如 osmwiki:Building_attributes）。
+ **Other pages** 所有不属于上述类别的页面，包括贡献者简介、与标签无关的技术页面和管理页面（例如 osmwiki:Linear_maps）。

更正式地说，OSM Wiki 可以被概念化为有向图 $\mathbf G = (V, E)$，其中顶点 $V$ 是网页，边 $E$ 是它们的超链接。为了从 OSM Wiki 中提取有向图 $\mathbf G$，我们实现了 OSM Wiki Crawler，这是一个针对 OSM Wiki 内容结构量身定制的开源工具 。

### OSM 维基爬虫

这种语义爬虫的目的是从动态且复杂的维基网站中提取语义网络，编码可用于各种任务的地理知识——在本文中，我们重点关注语义相似度的计算。虽然爬虫主要针对 OSM Wiki 网站，但可以采用其通用方法从任何 wiki、开放内容网站中提取语义网络。

提取的网络存储在资源描述框架（RDF）中，包含一组格式为<主语，谓语，宾语>的语句，逻辑上相当于带标签的有向图。15爬虫下载并分析提供的XML转储由 OSM 提供，其中包含网站的完整内容。 迄今为止，OSM Wiki 网站由约 30,000 个页面组成，其中 5,500 个页面描述了矢量地图中使用的 Key 和 Tag。爬虫从每个页面提取以下信息（如果有）：OSM 键和标签、词汇描述、标签之间的关系、一般内部链接以及维基百科页面的链接。

启发式函数将 OSM 标签分配给 LinkedGeoData 轻量级本体 [5] 中的等效术语。该启发式方法基于 OSM 标签和 LinkedGeoData 术语之间的词汇匹配。例如，OSM 标签 amenity=fountain 与 lgdo:AmenityFountain 匹配。 如果未定义 $key = value$ 对，则仅考虑值（例如 lgdo:Fountain）。我们通过观察在大小为 30 的随机样本中验证了此方法，所有到 LinkedGeoData 的映射都是正确的。

## OSM语义网络

我们开发的开源工具 OSM Wiki Crawler 以 RDF 图的形式从 OSM Wiki 网站提取语义网络。图的顶点代表 OSM 键、标签和簇。边标签指定了顶点之间的许多不同关系，范围从标签键（osmwiki：key）的链接到逻辑含义（osmwiki：implies）。通用内部超链接（osmwiki：link）特别重要，因为它们捕获源页面和目标页面之间的一般相关性，有助于计算认知上合理的语义相似性。例如，amenity=library 包含指向 Tourism=museum 和 shop=books 的通用链接。

集群页面不直接表示标签，但有助于计算标签之间的语义相似度。例如，建筑物属性的集群页面加强了与建筑物相关的多个标签之间的连接性。为了促进语义互操作性，OSM 语义网络被设计为关联数据。 OSM 术语链接到维基百科页面和 LinkedGeoData 术语，它们在语义上等效（例如 osmwiki:Tag:amenity=embassy 链接到 http://en.wikipedia.org/wiki/Embassy 和 lgdo:Embassy）。 RDF图的详细内容如表1所示。预提取的网络可在线获取。

为了从语义网络中提取信息，查看其统计特性很有用。将顶点的度定义为入射边的数量（形式为 $d_{\mathbf G} (v)$），$\mathbf G$ 中的平均度为 9.66，这表明 OSM 标签是强互连的。此外，顶点的入度和出度可以定义为其入边和出边的数量。在 OSM 语义网络中，平均入度为3.6，平均出度为6.06。图1 显示了OSM语义网络中的度分布，分为(a)入度和(b)出度。该图显示这两个量大致遵循幂律分布。

这与 Broder 等人报道的结果一致。 2000年：将整个万维网表示为有向图，度分布遵循幂律，即大多数页面具有低连通性，而少数页面具有高连通性。有趣的是，OSM Wiki 也与 Wikipedia 共享这一特征，其度分布也遵循幂律，特别是 Zipf 分布 。通过将维基百科视为语义网络，可以测量页面之间的相关性或查找缺失的链接。。 Turdakov 和 Velikhov 使用维基百科超链接上的 Dice 度量来检索语义相关的文章并执行词义消歧。因此，期望 OSM 语义网络中如此密集的链接结构包含有关 OSM 标签之间语义相似性的信息并非没有道理。

## OSM 标签相似度的共引

OSM 语义网络表示标签及其相互连接。为了利用网络的语义内容，我们探索了其计算 OSM 标签语义相似性的潜力。我们将标签 $a$ 和 $b$ 之间的相似性度量定义为 $s(a, b) ∈ [0, 1]$，其中 0 表示没有相似性，1 表示 OSM 语义网络中 $a$ 和 $b$ 顶点的最大相似性。在本文中，我们重点关注标签到标签的相似性度量，将对象到对象的情况留给未来的工作。

基于网络的相似性技术假设概念之间的关系必须足够丰富且具有代表性。为了评估其密集链接结构是否包含有关 OSM 标签的有效知识，我们纯粹根据网络拓扑计算相似度得分，忽略标签的词汇描述。 MDSM 和 SIM-DL 等方法是专门针对地理概念设计的。由于这些措施需要对 OSM 中不存在的属性、部分和角色进行详细描述，因此不能在这种情况下使用它们。

由于 OSM 的浅层语义结构（在 LinkedGeoData 和 OSMonto 中都可见），OSM 标签之间的路径非常短：大多数概念通过 2 个边连接，即使语义上非常不同（例如，桑拿与便利设施相关联，它链接回 150 个值，包括 bench ）。基于最短路径的技术需要可变长度的路径才能有效，因此在这种情况下注定会失败。为了计算 OSM 标签的语义相似度，有必要确定替代措施。基于共引的算法似乎很有前途。

### 语义网络中的共被引

共引算法旨在基于相似对象被一起引用的直觉，在相互链接的对象图中找到相似性。尽管可以在 LinkedGeoData 和 OSMonto 本体上计算共被引测量，但这将导致同一子树中的标签（例如 amenity=school、amenity=fountain）或不同子树（例如 amenity=school、amenity=fountain）之间的二元分类。便利设施=学校，土地利用=森林）。此方法无法解释同一键内的语义相似性，例如，amenity=school 和 amenity=university 预计比 amenity=school 和 amenity=fountain 更相似。另一方面，我们的 OSM 语义网络允许通过包含页面之间的一般超链接来更精细地计算相似性，并且可以区分这些情况。

共引算法尚未用于计算地理类别的语义相似性。为了填补这一知识空白，我们考虑了 P-Rank，一种通用的共被引算法。通过对其参数设置不同的值，P-Rank 相当于早期的算法，包括 Co-itation 、Coupling 和 Amsler 、SimRank 和 rvs-SimRank 。因此，可以通过探索 P-Rank 的结果空间来观察同被引算法的性能。在这种情况下，我们提出了 P-Rank 的线性代数公式，详细讨论了其参数（$K$、$λ$ 和 $C$）的含义和影响，这些参数很大程度上隐含在文献中。

P-Rank 通过迭代计算，选择迭代次数 $K ∈ [1, ∞)$。 $K$ 越高，P-Rank 的理论解就越接近。在第一次迭代 $\mathbf R_0 (k = 0)$ 时，除了身份之外，分数初始化为 0，$\mathbf R_0(a, b) = 0$（如果 $a = b$，则 $\mathbf R_0(a, b) = 1$）。所有 $k > 0$ 的 P-Rank 迭代都可以表示为收敛于理论相似度得分的一系列迭代：

$$
s(a,b)=\lim_{k\to\infin}\mathbf R_k(a,b) \\
\mathbf R_k=C(\lambda\cdot\mathbf T_i\mathbf R_{k-1}\mathbf T_i'+(1-\lambda)\cdot\mathbf T_o\mathbf R_{k-1}\mathbf T'_o)+\Theta\tag 1
$$

相似度 $s(a, b)$ 是函数 $f (C, λ)$。常数 $C$ 是应用于跨边缘的相似性递归传播的衰减因子。当 $C$ 接近 0 时，几乎没有相似性从一对到其邻居流动，而当 $C$ 接近 1 时，就会出现相反的情况。另一方面，常数 $λ$ 是输入-输出链路平衡。当 $λ = 1$ 时，仅考虑传入链接，而 $λ = 0$ 表示仅在传出链接上计算相似度。迭代次数 $K$ 决定了算法的最小精度，即 $s(a,b)$ 和 $\mathbf R_k(a,b)$之间的最大差距，随着 $K$ 的增长而减小。 $K$ 明显影响 $\mathbf R_k (a, b)$，但对 $s(a, b)$ 没有影响。

## 同被引算法的认知合理性

在本节中，我们将在计算地理类别的语义相似度的情况下描述对共被引算法的认知合理性的实验研究。跟随 Janowicz 等人。 [25]，我们将认知合理性的定量测量定义为机器生成的概念对排名与人类生成的排名之间可观察到的相关性，忽略了潜在的心理操作。

这种认知合理性的方法最初是在计算语言学领域开发的：人类排序的几组单词对已作为“黄金标准”发布，可以根据这些标准来测试相似性度量。 Rubenstein 和 Goodenough  收集了一组 65 个单词对，按同义词排列； Miller 和 Charles  发布了一个包含 30 个单词对的类似数据集。 WordSimilarity-353 数据集包含 353 个单词对，按相似性和相关性排名 。然而，这些数据集都不适合我们的上下文，因为它们包含与地理实体相关的单词很少。

在 GIScience 中，已经创建了相似性数据集来评估地理概念的相似性。在评估 SIM-DL 算法时，Janowicz、Keßler、Panov、Wilkes、Espeter 和 Schwarz 收集了与地理概念相关的水体概念的人类排名。这个数据集不适合我们的评估，因为它仅限于特定的地理语义子域（水体），并且是通过德语问卷收集的——在本文中，我们只考虑英语的 OSM 语义。

### MDSM评估数据集

该地理相似性数据集最初由 Rodríguez 和 Egenhofer 收集，适合研究共被引测量的认知合理性。该数据集用于评估 MDSM，即它们的语义相似性度量 。他们收集了 33 个地理概念的相似性判断，包括大型自然实体（例如山和森林）和人造特征（例如桥梁和房屋）。因为这些概念是通过简短的词汇定义以抽象的方式定义的（不关注本体特定的信息），所以它们适合研究我们方法的认知合理性。

72 名学生通过两项调查（A 和 B）获得了评价，每项调查提出五个问题。每个问题由一个目标概念（例如体育场）和 10 或 11 个基本概念组成，根据它们与目标的相似性进行排序。结果显示了概念对的排名，从最相似到最不相似（例如<运动场，棒球场>→···→<运动场，图书馆>）。在他们的评估中，罗德里格斯和埃根霍费尔重点关注了上下文对相似性判断的影响。我们从 MDSM 数据集中排除了指定特定上下文的四个问题，这超出了本文的范围。

MDSM 数据集的 33 个概念根据其文本定义手动映射到 OSM 语义网络中的相应标签。例如，概念网球场与 osmwiki:Tag:sport=tennis 相匹配。虽然 29 个概念在 OSM 中具有令人满意的等效项，但有 4 个概念（码头、交通、泻湖和沙漠）被丢弃，因为它们在 OSM 语义网络中没有精确匹配的概念。结果，我们获得了修改后的 MDSM 数据集，其中包含关于 29 个地理概念的 5 个问题。整个数据集可在线获取，包括完整的手动映射和定义。
